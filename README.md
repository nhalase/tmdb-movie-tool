# tmdb-movie-tool

For experimental and educational purposes. Big thanks to [The Movie DB](https://themoviedb.org) for an API key!

## Usage

`TMDB_API_KEY` can be set as an environment variable for convenience.

`./gradlew run --args=""` can be used in place of building a fat jar.

Alternatively, try it out against the checked-in [movie-tool.jar](./movie-tool.jar) using `java -jar "movie-tool.jar"`.

Example CSV files are located in [csv](./csv).

### convert-titles-csv-to-movies-csv

Reads titles from a CSV file called `movie_titles.csv` in the location of the jar (or the root of this project).

```csv
TITLE
Some Movie Title
Some Other Movie Title
```

```plaintext
Usage: convert-titles-csv-to-movies-csv [<options>]

Options:
  --tmdb-api-key=<text>             TMDB API Key
  --output-json / --no-output-json  Prints JSON array of movies to STDOUT
  --include-logging / -q, --quiet   Include logging output
  -h, --help                        Show this message and exit
```

### convert-titles-to-movies

```plaintext
Usage: convert-titles-to-movies [<options>]

Options:
  --tmdb-api-key=<text>             TMDB API Key
  -t, --title=<text>                Movie Title
  --output-json / --no-output-json  Prints JSON array of movies to STDOUT
  --include-logging / -q, --quiet   Include logging output
  -h, --help                        Show this message and exit
``` 

### update-movies-csv-with-new-titles

Requires `movies.csv` to exist (generated by `convert-titles-csv-to-movies-csv`). 

This WILL update `movies.csv` in place (no rows will be deleted, though)!

```plaintext
Usage: update-movies-csv-with-new-titles [<options>]

Options:
  --tmdb-api-key=<text>             TMDB API Key
  -t, --title=<text>                Movie Title
  --output-json / --no-output-json  Prints JSON of movies added or updated to STDOUT
  --include-logging / -q, --quiet   Include logging output
  -h, --help                        Show this message and exit
```

## Libraries used

- [Clikt](https://github.com/ajalt/clikt) (Apache 2.0)
- [themoviedbapi](https://github.com/c-eg/themoviedbapi) (BSD-2-Clause)
